const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-BwvXz-bb.js","./index-BQWbvqhL.js","./index-5GHB6AZ1.css","./Web3Context-pW9Xv925.js"])))=>i.map(i=>d[i]);
import{a1 as g,a2 as C,a3 as Ce,a4 as pn,a5 as oe,a6 as P,a7 as ve,a8 as Lr,a9 as jr,aa as Ie,ab as Qo,ac as ei,ad as Gt,ae as O,af as be,ag as yt,ah as ti,ai as pe,aj as H,ak as ni,al as ri,am as Be,an as si,ao as oi,ap as ii,aq as lt,ar as Ht,as as qn,at as Wn,au as Zn,av as Kn,aw as Jn,ax as Yn,ay as Xn,az as Qn,aA as Vt,aB as mt,aC as er,aD as ai,aE as pt,aF as tr,aG as Dr,aH as ci,aI as qt,aJ as nr,aK as Gr,aL as rr,aM as ui,aN as Hr,aO as sr,aP as fi,aQ as Vr,aR as or,aS as di,aT as ir}from"./core-EU_t5oA3.js";import{b1 as yl,b0 as ml,b2 as gl,b3 as wl,b4 as vl,aZ as xl,b5 as $l,b6 as Pl,b7 as El,b8 as Al,b9 as Il,ba as Bl,bb as Sl,bc as kl,bd as Tl,be as Nl,bf as Fl,bg as Cl,aY as Rl,a_ as zl,bh as Ml,a$ as Ol,bi as _l,bj as Ul,bk as Ll,bl as jl,bm as Dl,bn as Gl,bo as Hl,bq as Vl,bp as ql,aU as Wl,aW as Zl,V as Kl,aX as Jl,X as Yl,br as Xl,aV as Ql,bs as e1}from"./core-EU_t5oA3.js";import{s as li,k as qr,Z as bi}from"./index-BwvXz-bb.js";import{_ as Wr}from"./index-BQWbvqhL.js";import"./Web3Context-pW9Xv925.js";const pi="1.1.1";let j=class Wt extends Error{constructor(t,n={}){const r=n.cause instanceof Wt?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Wt&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${pi}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function me(e,t){return e.exec(t)?.groups}const Zr=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Kr=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Jr=/^\(.+?\).*?$/,ar=/^tuple(?<array>(\[(\d*)\])*)$/;function Zt(e){let t=e.type;if(ar.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Zt(o),s<n-1&&(t+=", ")}const r=me(ar,e.type);return t+=`)${r?.array??""}`,Zt({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Oe(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Zt(s),r!==n-1&&(t+=", ")}return t}function Kt(e){return e.type==="function"?`function ${e.name}(${Oe(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Oe(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Oe(e.inputs)})`:e.type==="error"?`error ${e.name}(${Oe(e.inputs)})`:e.type==="constructor"?`constructor(${Oe(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Yr=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function hi(e){return Yr.test(e)}function yi(e){return me(Yr,e)}const Xr=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function mi(e){return Xr.test(e)}function gi(e){return me(Xr,e)}const Qr=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function wi(e){return Qr.test(e)}function vi(e){return me(Qr,e)}const es=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function hn(e){return es.test(e)}function xi(e){return me(es,e)}const ts=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function $i(e){return ts.test(e)}function Pi(e){return me(ts,e)}const ns=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Ei(e){return ns.test(e)}function Ai(e){return me(ns,e)}const Ii=/^receive\(\) external payable$/;function Bi(e){return Ii.test(e)}const cr=new Set(["memory","indexed","storage","calldata"]),Si=new Set(["indexed"]),Jt=new Set(["calldata","memory","storage"]);class ki extends j{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}let Ti=class extends j{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},Ni=class extends j{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}};class Fi extends j{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}let Ci=class extends j{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},Ri=class extends j{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},zi=class extends j{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},Mi=class extends j{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},Oi=class extends j{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}},Ve=class extends j{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},_i=class extends j{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},Ui=class extends j{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}},Li=class extends j{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}},ji=class extends j{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}};function Di(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const Ft=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function ur(e,t={}){if(wi(e))return Gi(e,t);if(mi(e))return Hi(e,t);if(hi(e))return Vi(e,t);if($i(e))return qi(e,t);if(Ei(e))return Wi(e);if(Bi(e))return{type:"receive",stateMutability:"payable"};throw new _i({signature:e})}function Gi(e,t={}){const n=vi(e);if(!n)throw new Ve({signature:e,type:"function"});const r=D(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(he(r[a],{modifiers:Jt,structs:t,type:"function"}));const i=[];if(n.returns){const a=D(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(he(a[u],{modifiers:Jt,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Hi(e,t={}){const n=gi(e);if(!n)throw new Ve({signature:e,type:"event"});const r=D(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(he(r[i],{modifiers:Si,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Vi(e,t={}){const n=yi(e);if(!n)throw new Ve({signature:e,type:"error"});const r=D(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(he(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function qi(e,t={}){const n=Pi(e);if(!n)throw new Ve({signature:e,type:"constructor"});const r=D(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(he(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Wi(e){const t=Ai(e);if(!t)throw new Ve({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Zi=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ki=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ji=/^u?int$/;function he(e,t){const n=Di(e,t?.type,t?.structs);if(Ft.has(n))return Ft.get(n);const r=Jr.test(e),s=me(r?Ki:Zi,e);if(!s)throw new Ci({param:e});if(s.name&&Xi(s.name))throw new Ri({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const d=D(s.type),l=[],b=d.length;for(let p=0;p<b;p++)l.push(he(d[p],{structs:a}));u={components:l}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(Ji.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!rs(c))throw new Ni({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new zi({param:e,type:t?.type,modifier:s.modifier});if(Jt.has(s.modifier)&&!Qi(c,!!s.array))throw new Mi({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return Ft.set(n,f),f}function D(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?D(a,[...t,n.trim()]):D(a,t,`${n}${i}`,r);case"(":return D(a,t,`${n}${i}`,r+1);case")":return D(a,t,`${n}${i}`,r-1);default:return D(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new ji({current:n,depth:r});return t.push(n.trim()),t}function rs(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Zr.test(e)||Kr.test(e)}const Yi=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Xi(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Zr.test(e)||Kr.test(e)||Yi.test(e)}function Qi(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function ss(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!hn(a))continue;const c=xi(a);if(!c)throw new Ve({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const p=u[l].trim();if(!p)continue;const h=he(p,{type:"struct"});f.push(h)}if(!f.length)throw new Ui({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=os(c,t)}return r}const ea=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function os(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(Jr.test(i.type))r.push(i);else{const c=me(ea,i.type);if(!c?.type)throw new Oi({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new Li({type:f});r.push({...i,type:`tuple${u??""}`,components:os(t[f]??[],t,new Set([...n,f]))})}else if(rs(f))r.push(i);else throw new Ti({type:f})}}return r}function fr(e){let t;if(typeof e=="string")t=ur(e);else{const n=ss(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!hn(o)){t=ur(o,n);break}}}if(!t)throw new ki({signature:e});return t}function dr(e){const t=[];if(typeof e=="string"){const n=D(e),r=n.length;for(let s=0;s<r;s++)t.push(he(n[s],{modifiers:cr}))}else{const n=ss(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(hn(o))continue;const i=D(o),a=i.length;for(let c=0;c<a;c++)t.push(he(i[c],{modifiers:cr,structs:n}))}}if(t.length===0)throw new Fi({params:e});return t}const ta=li,na="1.1.0";let q=class Yt extends Error{constructor(t,n={}){const r=n.cause instanceof Yt?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Yt&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${na}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function ge(e,t){return e.exec(t)?.groups}const is=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,as=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,cs=/^\(.+?\).*?$/,lr=/^tuple(?<array>(\[(\d*)\])*)$/;function Xt(e){let t=e.type;if(lr.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Xt(o),s<n-1&&(t+=", ")}const r=ge(lr,e.type);return t+=`)${r?.array??""}`,Xt({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Je(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Xt(s),r!==n-1&&(t+=", ")}return t}function ra(e){return e.type==="function"?`function ${e.name}(${Je(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Je(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Je(e.inputs)})`:e.type==="error"?`error ${e.name}(${Je(e.inputs)})`:e.type==="constructor"?`constructor(${Je(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const us=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function sa(e){return us.test(e)}function oa(e){return ge(us,e)}const fs=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ia(e){return fs.test(e)}function aa(e){return ge(fs,e)}const ds=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ca(e){return ds.test(e)}function ua(e){return ge(ds,e)}const ls=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function bs(e){return ls.test(e)}function fa(e){return ge(ls,e)}const ps=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function da(e){return ps.test(e)}function la(e){return ge(ps,e)}const hs=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function ba(e){return hs.test(e)}function pa(e){return ge(hs,e)}const ha=/^receive\(\) external payable$/;function ya(e){return ha.test(e)}const ma=new Set(["indexed"]),Qt=new Set(["calldata","memory","storage"]);class ga extends q{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class wa extends q{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class va extends q{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class xa extends q{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class $a extends q{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Pa extends q{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Ea extends q{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class qe extends q{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Aa extends q{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Ia extends q{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Ba extends q{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Sa extends q{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function ka(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const Ct=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Ta(e,t={}){if(ca(e))return Na(e,t);if(ia(e))return Fa(e,t);if(sa(e))return Ca(e,t);if(da(e))return Ra(e,t);if(ba(e))return za(e);if(ya(e))return{type:"receive",stateMutability:"payable"};throw new Aa({signature:e})}function Na(e,t={}){const n=ua(e);if(!n)throw new qe({signature:e,type:"function"});const r=W(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(ke(r[a],{modifiers:Qt,structs:t,type:"function"}));const i=[];if(n.returns){const a=W(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(ke(a[u],{modifiers:Qt,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Fa(e,t={}){const n=aa(e);if(!n)throw new qe({signature:e,type:"event"});const r=W(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(ke(r[i],{modifiers:ma,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Ca(e,t={}){const n=oa(e);if(!n)throw new qe({signature:e,type:"error"});const r=W(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(ke(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Ra(e,t={}){const n=la(e);if(!n)throw new qe({signature:e,type:"constructor"});const r=W(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(ke(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function za(e){const t=pa(e);if(!t)throw new qe({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Ma=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Oa=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,_a=/^u?int$/;function ke(e,t){const n=ka(e,t?.type,t?.structs);if(Ct.has(n))return Ct.get(n);const r=cs.test(e),s=ge(r?Oa:Ma,e);if(!s)throw new va({param:e});if(s.name&&La(s.name))throw new xa({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const d=W(s.type),l=[],b=d.length;for(let p=0;p<b;p++)l.push(ke(d[p],{structs:a}));u={components:l}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(_a.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!ys(c))throw new wa({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new $a({param:e,type:t?.type,modifier:s.modifier});if(Qt.has(s.modifier)&&!ja(c,!!s.array))throw new Pa({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return Ct.set(n,f),f}function W(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?W(a,[...t,n.trim()]):W(a,t,`${n}${i}`,r);case"(":return W(a,t,`${n}${i}`,r+1);case")":return W(a,t,`${n}${i}`,r-1);default:return W(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new Sa({current:n,depth:r});return t.push(n.trim()),t}function ys(e){return e==="address"||e==="bool"||e==="function"||e==="string"||is.test(e)||as.test(e)}const Ua=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function La(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||is.test(e)||as.test(e)||Ua.test(e)}function ja(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Da(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!bs(a))continue;const c=fa(a);if(!c)throw new qe({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const p=u[l].trim();if(!p)continue;const h=ke(p,{type:"struct"});f.push(h)}if(!f.length)throw new Ia({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=ms(c,t)}return r}const Ga=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function ms(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(cs.test(i.type))r.push(i);else{const c=ge(Ga,i.type);if(!c?.type)throw new Ea({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new Ba({type:f});r.push({...i,type:`tuple${u??""}`,components:ms(t[f]??[],t,new Set([...n,f]))})}else if(ys(f))r.push(i);else throw new ga({type:f})}}return r}function gs(e){const t=Da(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];bs(o)||n.push(Ta(o,t))}return n}function E(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function Z(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new nc(e.type);return`${e.name}(${gt(e.inputs,{includeName:t})})`}function gt(e,{includeName:t=!1}={}){return e?e.map(n=>Ha(n,{includeName:t})).join(t?", ":","):""}function Ha(e,{includeName:t}){return e.type.startsWith("tuple")?`(${gt(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class Va extends g{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class br extends g{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class ws extends g{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${gt(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class tt extends g{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class qa extends g{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Wa extends g{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${C(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Za extends g{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Ka extends g{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class pr extends g{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class vs extends g{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Ja extends g{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class xs extends g{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class hr extends g{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class De extends g{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class $s extends g{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Ya extends g{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Xa extends g{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Z(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Z(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Qa=class extends g{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Xe extends g{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${gt(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class wt extends g{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Z(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class ec extends g{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class tc extends g{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Ps=class extends g{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class nc extends g{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class rc extends g{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const sc=new TextEncoder;function We(e,t={}){return typeof e=="number"||typeof e=="bigint"?ic(e,t):typeof e=="boolean"?oc(e,t):oe(e)?ie(e,t):Se(e,t)}function oc(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Ce(n,{size:t.size}),pn(n,{size:t.size})):n}const ue={zero:48,nine:57,A:65,F:70,a:97,f:102};function yr(e){if(e>=ue.zero&&e<=ue.nine)return e-ue.zero;if(e>=ue.A&&e<=ue.F)return e-(ue.A-10);if(e>=ue.a&&e<=ue.f)return e-(ue.a-10)}function ie(e,t={}){let n=e;t.size&&(Ce(n,{size:t.size}),n=pn(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=yr(r.charCodeAt(a++)),u=yr(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new g(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function ic(e,t){const n=P(e,t);return ie(n)}function Se(e,t={}){const n=sc.encode(e);return typeof t.size=="number"?(Ce(n,{size:t.size}),pn(n,{dir:"right",size:t.size})):n}function M(e,t){const n=t||"hex",r=qr(oe(e,{strict:!1})?We(e):e);return n==="bytes"?r:ve(r)}const ac=e=>M(We(e));function cc(e){return ac(e)}function uc(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new g("Unable to normalize signature.");return s}const fc=e=>{const t=typeof e=="string"?e:ra(e);return uc(t)};function Es(e){return cc(fc(e))}const vt=Es;let xe=class extends g{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};const Rt=new Lr(8192);function xt(e,t){if(Rt.has(`${e}.${t}`))return Rt.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=M(Se(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return Rt.set(`${e}.${t}`,o),o}function As(e,t){if(!V(e,{strict:!1}))throw new xe({address:e});return xt(e,t)}const dc=/^0x[a-fA-F0-9]{40}$/,zt=new Lr(8192);function V(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(zt.has(r))return zt.get(r);const s=dc.test(e)?e.toLowerCase()===e?!0:n?xt(e)===e:!0:!1;return zt.set(r,s),s}function K(e){return typeof e[0]=="string"?Ze(e):lc(e)}function lc(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Ze(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Ge(e,t,n,{strict:r}={}){return oe(e,{strict:!1})?bc(e,t,n,{strict:r}):Ss(e,t,n,{strict:r})}function Is(e,t){if(typeof t=="number"&&t>0&&t>C(e)-1)throw new jr({offset:t,position:"start",size:C(e)})}function Bs(e,t,n){if(typeof t=="number"&&typeof n=="number"&&C(e)!==n-t)throw new jr({offset:n,position:"end",size:C(e)})}function Ss(e,t,n,{strict:r}={}){Is(e,t);const s=e.slice(t,n);return r&&Bs(s,t,n),s}function bc(e,t,n,{strict:r}={}){Is(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Bs(s,t,n),s}const pc=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ks=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Pe(e,t){if(e.length!==t.length)throw new Za({expectedLength:e.length,givenLength:t.length});const n=hc({params:e,values:t}),r=mn(n);return r.length===0?"0x":r}function hc({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(yn({param:e[r],value:t[r]}));return n}function yn({param:e,value:t}){const n=gn(e.type);if(n){const[r,s]=n;return mc(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return $c(t,{param:e});if(e.type==="address")return yc(t);if(e.type==="bool")return wc(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=ks.exec(e.type)??[];return vc(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return gc(t,{param:e});if(e.type==="string")return xc(t);throw new ec(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function mn(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=C(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(P(t+s,{size:32})),r.push(a),s+=C(a)):n.push(a)}return K([...n,...r])}function yc(e){if(!V(e))throw new xe({address:e});return{dynamic:!1,encoded:Ie(e.toLowerCase())}}function mc(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Ps(e);if(!r&&e.length!==t)throw new qa({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=yn({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=mn(o);if(r){const a=P(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?K([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:K(o.map(({encoded:i})=>i))}}function gc(e,{param:t}){const[,n]=t.type.split("bytes"),r=C(e);if(!n){let s=e;return r%32!==0&&(s=Ie(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:K([Ie(P(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new Wa({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ie(e,{dir:"right"})}}function wc(e){if(typeof e!="boolean")throw new g(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ie(Qo(e))}}function vc(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new ei({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:P(e,{size:32,signed:t})}}function xc(e){const t=Gt(e),n=Math.ceil(C(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ie(Ge(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:K([Ie(P(C(t),{size:32})),...r])}}function $c(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=yn({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?mn(r):K(r.map(({encoded:s})=>s))}}function gn(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const nt=e=>Ge(Es(e),0,4);function Re(e){const{abi:t,args:n=[],name:r}=e,s=oe(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?nt(a)===r:a.type==="event"?vt(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?en(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=Ts(a.inputs,i.inputs,n);if(u)throw new Xa({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function en(e,t){const n=typeof e,r=t.type;switch(r){case"address":return V(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>en(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>en(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ts(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Ts(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?V(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?V(n[r],{strict:!1}):!1)return i}}const mr="/docs/contract/encodeEventTopics";function rt(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=Re({abi:t,name:n});if(!c)throw new hr(n,{docsPath:mr});s=c}if(s.type!=="event")throw new hr(void 0,{docsPath:mr});const o=Z(s),i=vt(o);let a=[];if(r&&"inputs"in s){const c=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(f=>r[f.name])??[]:[];u.length>0&&(a=c?.map((f,d)=>Array.isArray(u[d])?u[d].map((l,b)=>gr({param:f,value:u[d][b]})):typeof u[d]<"u"&&u[d]!==null?gr({param:f,value:u[d]}):null)??[])}return[i,...a]}function gr({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return M(We(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new rc(e.type);return Pe([e],[t])}function $t(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{o==="success"&&t===r&&(n[s]=i.request)}),r=>n[r]||e.request}async function Ns(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=$t(e,{method:"eth_newFilter"}),f=o?rt({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?P(i):i,toBlock:typeof c=="bigint"?P(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}function Q(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const wr="/docs/contract/encodeFunctionData";function Pc(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=Re({abi:t,args:n,name:r});if(!o)throw new De(r,{docsPath:wr});s=o}if(s.type!=="function")throw new De(void 0,{docsPath:wr});return{abi:[s],functionName:nt(Z(s))}}function ee(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:Pc(e),s=n[0],o=r,i="inputs"in s&&s.inputs?Pe(s.inputs,t??[]):void 0;return Ze([o,i??"0x"])}const Ec={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Fs={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Ac={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let vr=class extends g{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Cs=class extends g{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},Ic=class extends g{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Bc={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Ic({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Cs({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new vr({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new vr({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function wn(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Bc);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Sc(e,t={}){typeof t.size<"u"&&Ce(e,{size:t.size});const n=O(e,t);return pe(n,t)}function kc(e,t={}){let n=e;if(typeof t.size<"u"&&(Ce(n,{size:t.size}),n=yt(n)),n.length>1||n[0]>1)throw new ti(n);return!!n[0]}function de(e,t={}){typeof t.size<"u"&&Ce(e,{size:t.size});const n=O(e,t);return be(n,t)}function Tc(e,t={}){let n=e;return typeof t.size<"u"&&(Ce(n,{size:t.size}),n=yt(n,{dir:"right"})),new TextDecoder().decode(n)}function st(e,t){const n=typeof t=="string"?ie(t):t,r=wn(n);if(C(n)===0&&e.length>0)throw new tt;if(C(t)&&C(t)<32)throw new ws({data:typeof t=="string"?t:O(t),params:e,size:C(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=Le(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function Le(e,t,{staticPosition:n}){const r=gn(t.type);if(r){const[s,o]=r;return Fc(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return Mc(e,t,{staticPosition:n});if(t.type==="address")return Nc(e);if(t.type==="bool")return Cc(e);if(t.type.startsWith("bytes"))return Rc(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return zc(e,t);if(t.type==="string")return Oc(e,{staticPosition:n});throw new tc(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const xr=32,tn=32;function Nc(e){const t=e.readBytes(32);return[xt(O(Ss(t,-20))),32]}function Fc(e,t,{length:n,staticPosition:r}){if(!n){const i=de(e.readBytes(tn)),a=r+i,c=a+xr;e.setPosition(a);const u=de(e.readBytes(xr)),f=Qe(t);let d=0;const l=[];for(let b=0;b<u;++b){e.setPosition(c+(f?b*32:d));const[p,h]=Le(e,t,{staticPosition:c});d+=h,l.push(p)}return e.setPosition(r+32),[l,32]}if(Qe(t)){const i=de(e.readBytes(tn)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=Le(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=Le(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function Cc(e){return[kc(e.readBytes(32),{size:32}),32]}function Rc(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=de(e.readBytes(32));e.setPosition(n+i);const a=de(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[O(c),32]}return[O(e.readBytes(Number.parseInt(s,10),32)),32]}function zc(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Sc(s,{signed:n}):de(s,{signed:n}),32]}function Mc(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(Qe(t)){const i=de(e.readBytes(tn)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,d]=Le(e,u,{staticPosition:a});o+=d,s[r?c:u?.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=Le(e,a,{staticPosition:n});s[r?i:a?.name]=c,o+=u}return[s,o]}function Oc(e,{staticPosition:t}){const n=de(e.readBytes(32)),r=t+n;e.setPosition(r);const s=de(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Tc(yt(o));return e.setPosition(t+32),[i,32]}function Qe(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Qe);const n=gn(e.type);return!!(n&&Qe({...e,type:n[1]}))}function Rs(e){const{abi:t,data:n}=e,r=Ge(n,0,4);if(r==="0x")throw new tt;const o=[...t||[],Fs,Ac].find(i=>i.type==="error"&&r===nt(Z(i)));if(!o)throw new vs(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?st(o.inputs,Ge(n,4)):void 0,errorName:o.name}}function zs({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?H(t[o]):t[o]}`).join(", ")})`}function Ms(e,t="wei"){return ni(e,ri[t])}class _c extends g{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Uc extends g{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function $r(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Lc(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=$r(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=$r(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Pt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class jc extends g{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Dc extends g{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Pt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Os extends g{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class _s extends g{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Gc extends g{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class Us extends g{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:b}){const p=n?Q(n):void 0;let h=Pt({from:p?.address,to:d,value:typeof l<"u"&&`${Ms(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Be(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Be(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Be(u)} gwei`,nonce:f});b&&(h+=`
${Lc(b)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Ls extends g{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=Re({abi:n,args:r,name:i}),u=c?zs({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?Z(c,{includeName:!0}):void 0,d=Pt({address:s&&si(s),function:f,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class nn extends g{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=Rs({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")c=l[0];else if(d==="Panic"){const[b]=l;c=Ec[b]}else{const b=f?Z(f,{includeName:!0}):void 0,p=f&&l?zs({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[b?`Error: ${b}`:"",p&&p!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof vs&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class Hc extends g{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Vc extends g{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Et extends g{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const qc=3;function He(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof Et?e:e instanceof g?e.walk(p=>"data"in p)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=a,b=e instanceof tt?new Hc({functionName:o}):[qc,oi.code].includes(c)&&(u||f||d||l)?new nn({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof ii?f:l??d}):e;return new Ls(b,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function Wc(e){const t=M(`0x${e.substring(4)}`).substring(26);return xt(`0x${t}`)}async function Zc({hash:e,signature:t}){const n=oe(e)?e:ve(e),{secp256k1:r}=await Wr(async()=>{const{secp256k1:i}=await import("./index-BwvXz-bb.js").then(a=>a._);return{secp256k1:i}},__vite__mapDeps([0,1,2,3]),import.meta.url);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,b=Number(l??d),p=Pr(b);return new r.Signature(pe(u),pe(f)).addRecoveryBit(p)}const i=oe(t)?t:ve(t);if(C(i)!==65)throw new Error("invalid signature length");const a=be(`0x${i.slice(130)}`),c=Pr(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Pr(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function js({hash:e,signature:t}){return Wc(await Zc({hash:e,signature:t}))}function Kc(e,t="hex"){const n=Ds(e),r=wn(new Uint8Array(n.length));return n.encode(r),t==="hex"?O(r.bytes):r.bytes}function Ds(e){return Array.isArray(e)?Jc(e.map(t=>Ds(t))):Yc(e)}function Jc(e){const t=e.reduce((s,o)=>s+o.length,0),n=Gs(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function Yc(e){const t=typeof e=="string"?ie(e):e,n=Gs(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Gs(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new g("Length is too large.")}function Xc(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=M(Ze(["0x05",Kc([t?P(t):"0x",s,n?P(n):"0x"])]));return r==="bytes"?ie(o):o}async function Hs(e){const{authorization:t,signature:n}=e;return js({hash:Xc(t),signature:n??t})}class Qc extends g{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const b=Pt({from:n?.address,to:d,value:typeof l<"u"&&`${Ms(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Be(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Be(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Be(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function vn(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof g?e.walk(s=>s?.code===lt.code):e;return r instanceof g?new lt({cause:e,message:r.details}):lt.nodeMessage.test(n)?new lt({cause:e,message:e.details}):Ht.nodeMessage.test(n)?new Ht({cause:e,maxFeePerGas:t?.maxFeePerGas}):qn.nodeMessage.test(n)?new qn({cause:e,maxFeePerGas:t?.maxFeePerGas}):Wn.nodeMessage.test(n)?new Wn({cause:e,nonce:t?.nonce}):Zn.nodeMessage.test(n)?new Zn({cause:e,nonce:t?.nonce}):Kn.nodeMessage.test(n)?new Kn({cause:e,nonce:t?.nonce}):Jn.nodeMessage.test(n)?new Jn({cause:e}):Yn.nodeMessage.test(n)?new Yn({cause:e,gas:t?.gas}):Xn.nodeMessage.test(n)?new Xn({cause:e,gas:t?.gas}):Qn.nodeMessage.test(n)?new Qn({cause:e}):Vt.nodeMessage.test(n)?new Vt({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new mt({cause:e})}function e0(e,{docsPath:t,...n}){const r=(()=>{const s=vn(e,n);return s instanceof mt?e:s})();return new Qc(r,{docsPath:t,...n})}function xn(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}const t0={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function At(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=n0(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>O(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=P(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=P(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=P(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=P(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=P(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=P(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=t0[e.type]),typeof e.value<"u"&&(n.value=P(e.value)),n}function n0(e){return e.map(t=>({address:t.address,r:t.r?P(BigInt(t.r)):t.r,s:t.s?P(BigInt(t.s)):t.s,chainId:P(t.chainId),nonce:P(t.nonce),...typeof t.yParity<"u"?{yParity:P(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:P(t.v)}:{}}))}function Er(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new er({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new er({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function r0(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=P(t)),n!==void 0&&(i.nonce=P(n)),r!==void 0&&(i.state=Er(r)),s!==void 0){if(i.state)throw new Uc;i.stateDiff=Er(s)}return i}function $n(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!V(n,{strict:!1}))throw new xe({address:n});if(t[n])throw new _c({address:n});t[n]=r0(r)}return t}const s0=2n**256n-1n;function ot(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?Q(t):void 0;if(i&&!V(i.address))throw new xe({address:i.address});if(o&&!V(o))throw new xe({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new jc;if(r&&r>s0)throw new Ht({maxFeePerGas:r});if(s&&r&&s>r)throw new Vt({maxFeePerGas:r,maxPriorityFeePerGas:s})}class o0 extends g{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Pn extends g{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class i0 extends g{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Be(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Vs extends g{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const qs={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Ws(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?be(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?be(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?qs[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=a0(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function a0(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Zs(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Ws(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function re(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const o=s??!1,i=n!==void 0?P(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new Vs({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||Zs)(a,"getBlock")}async function En(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function c0(e,t){return Ks(e,t)}async function Ks(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await E(e,re,"getBlock")({}),c=await o({block:a,client:e,request:s});if(c===null)throw new Error;return c}if(typeof o<"u")return o;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return pe(i)}catch{const[o,i]=await Promise.all([n?Promise.resolve(n):E(e,re,"getBlock")({}),E(e,En,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new Pn;const a=i-o.baseFeePerGas;return a<0n?0n:a}}async function u0(e,t){return rn(e,t)}async function rn(e,t){const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new o0;const c=10**(i.toString().split(".")[1]?.length??0),u=l=>l*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await E(e,re,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const l=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(l!==null)return l}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Pn;const l=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await Ks(e,{block:f,chain:r,request:s}),b=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??b+l,maxPriorityFeePerGas:l}}return{gasPrice:s?.gasPrice??u(await E(e,En,"getGasPrice")({}))}}async function Js(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?P(r):n]},{dedupe:!!r});return be(s)}function Ys(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>ie(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>O(o))}function Xs(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>ie(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>ie(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>O(i))}function f0(e,t){return ta(oe(e,{strict:!1})?We(e):e)}function d0(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=f0(t);return s.set([n],0),r==="bytes"?s:O(s)}function l0(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const o of t)s.push(d0({commitment:o,to:r,version:n}));return s}const Ar=6,Qs=32,An=4096,eo=Qs*An,Ir=eo*Ar-1-1*An*Ar;class b0 extends g{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class p0 extends g{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function h0(e){const t=typeof e.data=="string"?ie(e.data):e.data,n=C(t);if(!n)throw new p0;if(n>Ir)throw new b0({maxSize:Ir,size:n});const r=[];let s=!0,o=0;for(;s;){const i=wn(new Uint8Array(eo));let a=0;for(;a<An;){const c=t.slice(o,o+(Qs-1));if(i.pushByte(0),i.pushBytes(c),c.length<31){i.pushByte(128),s=!1;break}a++,o+=31}r.push(i)}return r.map(i=>O(i.bytes))}function y0(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??h0({data:t}),o=e.commitments??Ys({blobs:s,kzg:n,to:r}),i=e.proofs??Xs({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function m0(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Dc({transaction:e})}async function to(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return be(t)}const g0=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Br=new Map;async function no(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:a,nonceManager:c,parameters:u=g0,type:f}=t,d=n&&Q(n),l={...t,...d?{from:d?.address}:{}};let b;async function p(){return b||(b=await E(e,re,"getBlock")({blockTag:"latest"}),b)}let h;async function y(){return h||(s?s.id:typeof t.chainId<"u"?t.chainId:(h=await E(e,to,"getChainId")({}),h))}if(u.includes("nonce")&&typeof a>"u"&&d)if(c){const m=await y();l.nonce=await c.consume({address:d.address,chainId:m,client:e})}else l.nonce=await E(e,Js,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const m=Ys({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const w=l0({commitments:m,to:"hex"});l.blobVersionedHashes=w}if(u.includes("sidecars")){const w=Xs({blobs:r,commitments:m,kzg:i}),v=y0({blobs:r,commitments:m,proofs:w,to:"hex"});l.sidecars=v}}if(u.includes("chainId")&&(l.chainId=await y()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{l.type=m0(l)}catch{let m=Br.get(e.uid);typeof m>"u"&&(m=typeof(await p())?.baseFeePerGas=="bigint",Br.set(e.uid,m)),l.type=m?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const m=await p(),{maxFeePerGas:w,maxPriorityFeePerGas:v}=await rn(e,{block:m,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<v)throw new i0({maxPriorityFeePerGas:v});l.maxPriorityFeePerGas=v,l.maxFeePerGas=w}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Pn;if(typeof t.gasPrice>"u"){const m=await p(),{gasPrice:w}=await rn(e,{block:m,chain:s,request:l,type:"legacy"});l.gasPrice=w}}return u.includes("gas")&&typeof o>"u"&&(l.gas=await E(e,In,"estimateGas")({...l,account:d&&{address:d.address,type:"json-rpc"}})),ot(l),delete l.parameters,l}async function In(e,t){const{account:n=e.account}=t,r=n?Q(n):void 0;try{const{accessList:s,authorizationList:o,blobs:i,blobVersionedHashes:a,blockNumber:c,blockTag:u,data:f,gas:d,gasPrice:l,maxFeePerBlobGas:b,maxFeePerGas:p,maxPriorityFeePerGas:h,nonce:y,value:m,stateOverride:w,...v}=await no(e,{...t,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),A=(typeof c=="bigint"?P(c):void 0)||u,B=$n(w),$=await(async()=>{if(v.to)return v.to;if(o&&o.length>0)return await Hs({authorization:o[0]}).catch(()=>{throw new g("`to` is required. Could not infer from `authorizationList`")})})();ot(t);const S=e.chain?.formatters?.transactionRequest?.format,T=(S||At)({...xn(v,{format:S}),from:r?.address,accessList:s,authorizationList:o,blobs:i,blobVersionedHashes:a,data:f,gas:d,gasPrice:l,maxFeePerBlobGas:b,maxFeePerGas:p,maxPriorityFeePerGas:h,nonce:y,to:$,value:m},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:B?[T,A??e.experimental_blockTag??"latest",B]:A?[T,A]:[T]}))}catch(s){throw e0(s,{...t,account:r,chain:e.chain})}}async function w0(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...a}=t,c=ee({abi:n,args:s,functionName:o});try{return await E(e,In,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?Q(a.account):void 0;throw He(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f?.address})}}function it(e,t){if(!V(e,{strict:!1}))throw new xe({address:e});if(!V(t,{strict:!1}))throw new xe({address:t});return e.toLowerCase()===t.toLowerCase()}const Sr="/docs/contract/decodeEventLog";function Bn(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new Ja({docsPath:Sr});const c=t.find(h=>h.type==="event"&&i===vt(Z(h)));if(!(c&&"name"in c)||c.type!=="event")throw new xs(i,{docsPath:Sr});const{name:u,inputs:f}=c,d=f?.some(h=>!("name"in h&&h.name)),l=d?[]:{},b=f.map((h,y)=>[h,y]).filter(([h])=>"indexed"in h&&h.indexed);for(let h=0;h<b.length;h++){const[y,m]=b[h],w=a[h];if(!w)throw new wt({abiItem:c,param:y});l[d?m:y.name||m]=v0({param:y,value:w})}const p=f.filter(h=>!("indexed"in h&&h.indexed));if(p.length>0){if(n&&n!=="0x")try{const h=st(p,n);if(h)if(d)for(let y=0;y<f.length;y++)l[y]=l[y]??h.shift();else for(let y=0;y<p.length;y++)l[p[y].name]=h[y]}catch(h){if(o)throw h instanceof ws||h instanceof Cs?new Xe({abiItem:c,data:n,params:p,size:C(n)}):h}else if(o)throw new Xe({abiItem:c,data:"0x",params:p,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function v0({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(st([e],t)||[])[0]}function Sn(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{try{const a=t.find(u=>u.type==="event"&&i.topics[0]===vt(u));if(!a)return null;const c=Bn({...i,abi:[a],strict:s});return o&&!o.includes(c.eventName)||!x0({args:c.args,inputs:a.inputs,matchArgs:n})?null:{...c,...i}}catch(a){let c,u;if(a instanceof xs)return null;if(a instanceof Xe||a instanceof wt){if(s)return null;c=a.abiItem.name,u=a.abiItem.inputs?.some(f=>!("name"in f&&f.name))}return{...i,args:u?[]:{},eventName:c}}}).filter(Boolean)}function x0(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?it(i,a):o.type==="string"||o.type==="bytes"?M(We(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function ye(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function kn(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(h=>rt({abi:[h],eventName:h.name,args:i?void 0:a}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?P(r):r,toBlock:typeof s=="bigint"?P(s):s}]});const b=l.map(p=>ye(p));return f?Sn({abi:f,args:a,logs:b,strict:u}):b}async function ro(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?Re({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return E(e,kn,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}const Mt="/docs/contract/decodeFunctionResult";function ze(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=Re({abi:t,args:n,name:r});if(!a)throw new De(r,{docsPath:Mt});o=a}if(o.type!=="function")throw new De(void 0,{docsPath:Mt});if(!o.outputs)throw new $s(o.name,{docsPath:Mt});const i=st(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const $0="0.1.1";function P0(){return $0}class k extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof k){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof k&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${P0()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return so(this,t)}}function so(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?so(e.cause,t):t?null:e}function at(e,t){if(_e(e)>t)throw new L0({givenSize:_e(e),maxSize:t})}const fe={zero:48,nine:57,A:65,F:70,a:97,f:102};function kr(e){if(e>=fe.zero&&e<=fe.nine)return e-fe.zero;if(e>=fe.A&&e<=fe.F)return e-(fe.A-10);if(e>=fe.a&&e<=fe.f)return e-(fe.a-10)}function E0(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new j0({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function oo(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function It(e,t){if(G(e)>t)throw new W0({givenSize:G(e),maxSize:t})}function A0(e,t){if(typeof t=="number"&&t>0&&t>G(e)-1)throw new ho({offset:t,position:"start",size:G(e)})}function I0(e,t,n){if(typeof t=="number"&&typeof n=="number"&&G(e)!==n-t)throw new ho({offset:n,position:"end",size:G(e)})}function io(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Z0({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const B0="#__bigint";function ao(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+B0:s,n)}const S0=new TextDecoder,k0=new TextEncoder;function T0(e){return e instanceof Uint8Array?e:typeof e=="string"?co(e):N0(e)}function N0(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function co(e,t={}){const{size:n}=t;let r=e;n&&(It(e,n),r=Ne(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=kr(s.charCodeAt(c++)),f=kr(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new k(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u*16+f}return i}function F0(e,t={}){const{size:n}=t,r=k0.encode(e);return typeof n=="number"?(at(r,n),C0(r,n)):r}function C0(e,t){return E0(e,{dir:"right",size:t})}function _e(e){return e.length}function R0(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function z0(e,t={}){const{size:n}=t;typeof n<"u"&&at(e,n);const r=Y(e,t);return lo(r,t)}function M0(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(at(r,n),r=uo(r)),r.length>1||r[0]>1)throw new U0(r);return!!r[0]}function le(e,t={}){const{size:n}=t;typeof n<"u"&&at(e,n);const r=Y(e,t);return bo(r,t)}function O0(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(at(r,n),r=_0(r)),S0.decode(r)}function uo(e){return oo(e,{dir:"left"})}function _0(e){return oo(e,{dir:"right"})}class U0 extends k{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let L0=class extends k{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},j0=class extends k{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const D0=new TextEncoder,G0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function H0(e,t={}){const{strict:n=!1}=t;if(!e)throw new Tr(e);if(typeof e!="string")throw new Tr(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Nr(e);if(!e.startsWith("0x"))throw new Nr(e)}function J(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function V0(e){return e instanceof Uint8Array?Y(e):Array.isArray(e)?Y(new Uint8Array(e)):e}function fo(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(It(n,t.size),Te(n,t.size)):n}function Y(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=G0[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(It(r,t.size),Ne(r,t.size)):r}function L(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new po({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Te(c,r):c}function Tn(e,t={}){return Y(D0.encode(e),t)}function Te(e,t){return io(e,{dir:"left",size:t})}function Ne(e,t){return io(e,{dir:"right",size:t})}function se(e,t,n,r={}){const{strict:s}=r;A0(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&I0(o,t,n),o}function G(e){return Math.ceil((e.length-2)/2)}function lo(e,t={}){const{signed:n}=t;t.size&&It(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function bo(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:lo(e,t))}function q0(e,t={}){const{strict:n=!1}=t;try{return H0(e,{strict:n}),!0}catch{return!1}}class po extends k{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Tr extends k{constructor(t){super(`Value \`${typeof t=="object"?ao(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Nr extends k{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class W0 extends k{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class ho extends k{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Z0 extends k{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function K0(e){return{address:e.address,amount:L(e.amount),index:L(e.index),validatorIndex:L(e.validatorIndex)}}function yo(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:L(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:L(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:L(e.gasLimit)},...typeof e.number=="bigint"&&{number:L(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:L(e.prevRandao)},...typeof e.time=="bigint"&&{time:L(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(K0)}}}const J0="0x82ad56cb",mo="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Y0="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",X0="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Nn="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class sn extends g{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class go extends g{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const Ot="/docs/contract/encodeDeployData";function Fn(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new Va({docsPath:Ot});if(!("inputs"in s))throw new br({docsPath:Ot});if(!s.inputs||s.inputs.length===0)throw new br({docsPath:Ot});const o=Pe(s.inputs,n);return Ze([r,o])}function Ke({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new sn({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new sn({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function wo(e,{docsPath:t,...n}){const r=(()=>{const s=vn(e,n);return s instanceof mt?e:s})();return new Us(r,{docsPath:t,...n})}async function ct(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:b,gas:p,gasPrice:h,maxFeePerBlobGas:y,maxFeePerGas:m,maxPriorityFeePerGas:w,nonce:v,to:x,value:A,stateOverride:B,...$}=t,S=n?Q(n):void 0;if(f&&(l||b))throw new g("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&x)throw new g("Cannot provide both `code` & `to` as parameters.");const N=f&&d,T=l&&b&&x&&d,F=N||T,z=N?vo({code:f,data:d}):T?tu({data:d,factory:l,factoryData:b,to:x}):d;try{ot(t);const U=(typeof o=="bigint"?P(o):void 0)||i,ae=u?yo(u):void 0,ce=$n(B),we=e.chain?.formatters?.transactionRequest?.format,R=(we||At)({...xn($,{format:we}),from:S?.address,accessList:a,authorizationList:r,blobs:c,data:z,gas:p,gasPrice:h,maxFeePerBlobGas:y,maxFeePerGas:m,maxPriorityFeePerGas:w,nonce:v,to:F?void 0:x,value:A},"call");if(s&&Q0({request:R})&&!ce&&!ae)try{return await eu(e,{...R,blockNumber:o,blockTag:i})}catch(te){if(!(te instanceof go)&&!(te instanceof sn))throw te}const Ee=(()=>{const te=[R,U];return ce&&ae?[...te,ce,ae]:ce?[...te,ce]:ae?[...te,{},ae]:te})(),Ae=await e.request({method:"eth_call",params:Ee});return Ae==="0x"?{data:void 0}:{data:Ae}}catch(_){const U=nu(_),{offchainLookup:ae,offchainLookupSignature:ce}=await Wr(async()=>{const{offchainLookup:we,offchainLookupSignature:I}=await Promise.resolve().then(()=>Yu);return{offchainLookup:we,offchainLookupSignature:I}},void 0,import.meta.url);if(e.ccipRead!==!1&&U?.slice(0,10)===ce&&x)return{data:await ae(e,{data:U,to:x})};throw F&&U?.slice(0,10)==="0x101bb98d"?new Vc({factory:l}):wo(_,{...t,account:S,chain:e.chain})}}function Q0({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(J0)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function eu(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return Ke({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new go})(),d=(typeof o=="bigint"?P(o):void 0)||i,{schedule:l}=ai({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(h){return h.reduce((m,{data:w})=>m+(w.length-2),0)>n*2},fn:async h=>{const y=h.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),m=ee({abi:pt,args:[y],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{...u===null?{data:vo({code:Nn,data:m})}:{to:u,data:m}},d]});return ze({abi:pt,args:[y],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:b,success:p}]=await l({data:a,to:c});if(!p)throw new Et({data:b});return b==="0x"?{data:void 0}:{data:b}}function vo(e){const{code:t,data:n}=e;return Fn({abi:gs(["constructor(bytes, bytes)"]),bytecode:mo,args:[t,n]})}function tu(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Fn({abi:gs(["constructor(address, bytes, address, bytes)"]),bytecode:Y0,args:[s,t,n,r]})}function nu(e){if(!(e instanceof g))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function X(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=ee({abi:n,args:s,functionName:o});try{const{data:c}=await E(e,ct,"call")({...i,data:a,to:r});return ze({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw He(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function ru(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?Q(a.account):e.account,u=ee({abi:n,args:s,functionName:i});try{const{data:f}=await E(e,ct,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),d=ze({abi:n,args:s,functionName:i,data:f||"0x"}),l=n.filter(b=>"name"in b&&b.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(f){throw He(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c?.address})}}const _t=new Map,Fr=new Map;let su=0;function $e(e,t,n){const r=++su,s=()=>_t.get(e)||[],o=()=>{const f=s();_t.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=Fr.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},a=s();if(_t.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=(...d)=>{const l=s();if(l.length!==0)for(const b of l)b.fns[f]?.(...d)};const u=n(c);return typeof u=="function"&&Fr.set(e,u),i}function ut(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await n?.(a)??r;await tr(c);const u=async()=>{s&&(await e({unpoll:o}),await tr(r),u())};u()})(),o}const ou=new Map,iu=new Map;function au(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,ou),r=t(e,iu);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function cu(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=au(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const uu=e=>`blockNumber.${e}`;async function ft(e,{cacheTime:t=e.cacheTime}={}){const n=await cu(()=>e.request({method:"eth_blockNumber"}),{cacheKey:uu(e.uid),cacheTime:t});return BigInt(n)}async function Bt(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>ye(o));return!("abi"in t)||!t.abi?s:Sn({abi:t.abi,logs:s,strict:n})}async function St(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function fu(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const y=l??!1,m=H(["watchContractEvent",r,s,o,e.uid,i,d,y,a]);return $e(m,{onLogs:u,onError:c},w=>{let v;a!==void 0&&(v=a-1n);let x,A=!1;const B=ut(async()=>{if(!A){try{x=await E(e,Ns,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:y,fromBlock:a})}catch{}A=!0;return}try{let $;if(x)$=await E(e,Bt,"getFilterChanges")({filter:x});else{const S=await E(e,ft,"getBlockNumber")({});v&&v<S?$=await E(e,ro,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:v+1n,toBlock:S,strict:y}):$=[],v=S}if($.length===0)return;if(o)w.onLogs($);else for(const S of $)w.onLogs([S])}catch($){x&&$ instanceof Dr&&(A=!1),w.onError?.($)}},{emitOnBegin:!0,interval:d});return async()=>{x&&await E(e,St,"uninstallFilter")({filter:x}),B()}})})():(()=>{const y=l??!1,m=H(["watchContractEvent",r,s,o,e.uid,i,d,y]);let w=!0,v=()=>w=!1;return $e(m,{onLogs:u,onError:c},x=>((async()=>{try{const A=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),B=i?rt({abi:n,eventName:i,args:s}):[],{unsubscribe:$}=await A.subscribe({params:["logs",{address:r,topics:B}],onData(S){if(!w)return;const N=S.result;try{const{eventName:T,args:F}=Bn({abi:n,data:N.data,topics:N.topics,strict:l}),z=ye(N,{args:F,eventName:T});x.onLogs([z])}catch(T){let F,z;if(T instanceof Xe||T instanceof wt){if(l)return;F=T.abiItem.name,z=T.abiItem.inputs?.some(U=>!("name"in U&&U.name))}const _=ye(N,{args:z?[]:{},eventName:F});x.onLogs([_])}},onError(S){x.onError?.(S)}});v=$,w||v()}catch(A){c?.(A)}})(),()=>v()))})()}async function du(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const lu={"0x0":"reverted","0x1":"success"};function xo(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>ye(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?be(e.transactionIndex):null,status:e.status?lu[e.status]:null,type:e.type?qs[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}function bu(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:o="Base Client",type:i="base"}=e,a=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=e.pollingInterval??u,d=e.cacheTime??f,l=e.account?Q(e.account):void 0,{config:b,request:p,value:h}=e.transport({chain:n,pollingInterval:f}),y={...b,...h},m={account:l,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:o,pollingInterval:f,request:p,transport:y,type:i,uid:ci(),...a?{experimental_blockTag:a}:{}};function w(v){return x=>{const A=x(v);for(const $ in m)delete A[$];const B={...v,...A};return Object.assign(B,{extend:w(B)})}}return Object.assign(m,{extend:w(m)})}function Cn(e){if(!(e instanceof g))return!1;const t=e.walk(n=>n instanceof nn);return t instanceof nn?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function pu(e){const{abi:t,data:n}=e,r=Ge(n,0,4),s=t.find(o=>o.type==="function"&&r===nt(Z(o)));if(!s)throw new Ya(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?st(s.inputs,Ge(n,4)):void 0}}const Ut="/docs/contract/encodeErrorResult";function Cr(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Re({abi:t,args:r,name:n});if(!c)throw new pr(n,{docsPath:Ut});s=c}if(s.type!=="error")throw new pr(void 0,{docsPath:Ut});const o=Z(s),i=nt(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new Ka(s.name,{docsPath:Ut});a=Pe(s.inputs,r)}return Ze([i,a])}const Lt="/docs/contract/encodeFunctionResult";function hu(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=Re({abi:t,name:n});if(!i)throw new De(n,{docsPath:Lt});s=i}if(s.type!=="function")throw new De(void 0,{docsPath:Lt});if(!s.outputs)throw new $s(s.name,{docsPath:Lt});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Ps(r)})();return Pe(s.outputs,o)}const dt="x-batch-gateway:true";async function $o(e){const{data:t,ccipRequest:n}=e,{args:[r]}=pu({abi:qt,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(dt)?await $o({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=yu(c)}})),hu({abi:qt,functionName:"query",result:[s,o]})}function yu(e){return e.name==="HttpRequestError"&&e.status?Cr({abi:qt,errorName:"HttpError",args:[e.status,e.shortMessage]}):Cr({abi:[Fs],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Po(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return oe(t)?t:null}function on(e){let t=new Uint8Array(32).fill(0);if(!e)return O(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Po(n[r]),o=s?We(s):M(Se(n[r]),"bytes");t=M(K([t,o]),"bytes")}return O(t)}function mu(e){return`[${e.slice(2)}]`}function gu(e){const t=new Uint8Array(32).fill(0);return e?Po(e)||M(Se(e)):O(t)}function Rn(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Se(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=Se(s[o]);i.byteLength>255&&(i=Se(mu(gu(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function wu(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Ke({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[on(o),BigInt(s)]:[on(o)];try{const l=ee({abi:nr,functionName:"addr",args:d}),b={address:u,abi:Gr,functionName:"resolveWithGateways",args:[ve(Rn(o)),l,i??[dt]],blockNumber:n,blockTag:r},h=await E(e,X,"readContract")(b);if(h[0]==="0x")return null;const y=ze({abi:nr,args:d,functionName:"addr",data:h[0]});return y==="0x"||yt(y)==="0x00"?null:y}catch(l){if(a)throw l;if(Cn(l))return null;throw l}}class vu extends g{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Ye extends g{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class zn extends g{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class xu extends g{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const $u=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Pu=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Eu=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Au=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Iu(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Rr(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Eo({uri:e,gatewayUrls:t}){const n=Eu.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Rr(t?.ipfs,"https://ipfs.io"),s=Rr(t?.arweave,"https://arweave.net"),o=e.match($u),{protocol:i,subpath:a,target:c,subtarget:u=""}=o?.groups||{},f=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||Pu.test(e);if(e.startsWith("http")&&!f&&!d){let b=e;return t?.arweave&&(b=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(Au,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new zn({uri:e})}function Ao(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new vu({data:e});return e.image||e.image_url||e.image_data}async function Bu({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Mn({gatewayUrls:e,uri:Ao(n)})}catch{throw new zn({uri:t})}}async function Mn({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Eo({uri:t,gatewayUrls:e});if(r||await Iu(n))return n;throw new zn({uri:t})}function Su(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Ye({reason:"Only EIP-155 supported"});if(!i)throw new Ye({reason:"Chain ID not found"});if(!c)throw new Ye({reason:"Contract address not found"});if(!s)throw new Ye({reason:"Token ID not found"});if(!a)throw new Ye({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function ku(e,{nft:t}){if(t.namespace==="erc721")return X(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return X(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new xu({namespace:t.namespace})}async function Tu(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Nu(e,{gatewayUrls:t,record:n}):Mn({uri:n,gatewayUrls:t})}async function Nu(e,{gatewayUrls:t,record:n}){const r=Su(n),s=await ku(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=Eo({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return Mn({uri:Ao(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Bu({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Io(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Ke({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:Gr,args:[ve(Rn(o)),ee({abi:rr,functionName:"text",args:[on(o),s]}),i??[dt]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},b=await E(e,X,"readContract")(d);if(b[0]==="0x")return null;const p=ze({abi:rr,functionName:"text",data:b[0]});return p===""?null:p}catch(d){if(a)throw d;if(Cn(d))return null;throw d}}async function Fu(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await E(e,Io,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await Tu(e,{record:c,gatewayUrls:r})}catch{return null}}async function Cu(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Ke({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:ui,args:[n,o,i??[dt]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=E(e,X,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if(Cn(f))return null;throw f}}async function Ru(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return Ke({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await E(e,X,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ve(Rn(s))],blockNumber:n,blockTag:r});return c}async function Bo(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b,...p}=t,h=n?Q(n):void 0;try{ot(t);const m=(typeof r=="bigint"?P(r):void 0)||s,w=e.chain?.formatters?.transactionRequest?.format,x=(w||At)({...xn(p,{format:w}),from:h?.address,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b},"createAccessList"),A=await e.request({method:"eth_createAccessList",params:[x,m]});return{accessList:A.accessList,gasUsed:BigInt(A.gasUsed)}}catch(y){throw wo(y,{...t,account:h,chain:e.chain})}}async function zu(e){const t=$t(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function So(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=$t(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(b=>rt({abi:[b],eventName:b.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?P(o):o,toBlock:typeof a=="bigint"?P(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function ko(e){const t=$t(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Mu(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?P(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function Ou(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function _u(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?P(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),be(o)}async function an(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?P(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class Uu extends g{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Lu(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,d]=await E(e,X,"readContract")({abi:ju,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new Uu({address:n}):i}}const ju=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Du(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function Gu(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?P(n):void 0,i=await e.request({method:"eth_feeHistory",params:[P(t),o||r,s]},{dedupe:!!o});return Du(i)}async function Hu(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>ye(o));return t.abi?Sn({abi:t.abi,logs:s,strict:n}):s}async function Vu({address:e,authorization:t,signature:n}){return it(As(e),await Hs({authorization:t,signature:n}))}class qu extends g{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:i}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(a=>`    ${Hr(a)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class Wu extends g{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Hr(n)}`,`Response: ${H(t)}`],name:"OffchainLookupResponseMalformedError"})}}class Zu extends g{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const Ku="0x556f1830",To={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Ju(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=Rs({data:r,abi:[To]}),[i,a,c,u,f]=o,{ccipRead:d}=e,l=d&&typeof d?.request=="function"?d.request:No;try{if(!it(s,i))throw new Zu({sender:i,to:s});const b=a.includes(dt)?await $o({data:c,ccipRequest:l}):await l({data:c,sender:i,urls:a}),{data:p}=await ct(e,{blockNumber:t,blockTag:n,data:K([u,Pe([{type:"bytes"},{type:"bytes"}],[b,f])]),to:s});return p}catch(b){throw new qu({callbackSelector:u,cause:b,data:r,extraData:f,sender:i,urls:a})}}async function No({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const o=n[s],i=o.includes("{data}")?"GET":"POST",a=i==="POST"?{data:e,sender:t}:void 0,c=i==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:i});let f;if(u.headers.get("Content-Type")?.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){r=new sr({body:a,details:f?.error?H(f.error):u.statusText,headers:u.headers,status:u.status,url:o});continue}if(!oe(f)){r=new Wu({result:f,url:o});continue}return f}catch(u){r=new sr({body:a,details:u.message,url:o})}}throw r}const Yu=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:No,offchainLookup:Ju,offchainLookupAbiItem:To,offchainLookupSignature:Ku},Symbol.toStringTag,{value:"Module"}));function dl(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const Xu=`Ethereum Signed Message:
`;function Qu(e){const t=typeof e=="string"?Gt(e):typeof e.raw=="string"?e.raw:O(e.raw),n=Gt(`${Xu}${C(t)}`);return K([n,t])}function Fo(e,t){return M(Qu(e),t)}class ef extends g{constructor({domain:t}){super(`Invalid domain "${H(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class tf extends g{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class nf extends g{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function rf(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,d=a[u],l=f.match(ks);if(l&&(typeof d=="number"||typeof d=="bigint")){const[h,y,m]=l;P(d,{signed:y==="int",size:Number.parseInt(m,10)/8})}if(f==="address"&&typeof d=="string"&&!V(d))throw new xe({address:d});const b=f.match(pc);if(b){const[h,y]=b;if(y&&C(d)!==Number.parseInt(y,10))throw new Qa({expectedSize:Number.parseInt(y,10),givenSize:C(d)})}const p=s[f];p&&(of(f),o(p,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new ef({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new tf({primaryType:r,types:s})}function sf({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function of(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new nf({type:e})}function af(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:sf({domain:t}),...e.types};rf({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(cf({domain:t,types:s})),r!=="EIP712Domain"&&o.push(Co({data:n,primaryType:r,types:s})),M(K(o))}function cf({domain:e,types:t}){return Co({data:e,primaryType:"EIP712Domain",types:t})}function Co({data:e,primaryType:t,types:n}){const r=Ro({data:e,primaryType:t,types:n});return M(r)}function Ro({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[uf({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=Mo({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return Pe(r,s)}function uf({primaryType:e,types:t}){const n=ve(ff({primaryType:e,types:t}));return M(n)}function ff({primaryType:e,types:t}){let n="";const r=zo({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function zo({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])zo({primaryType:o.type,types:t},n);return n}function Mo({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},M(Ro({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},M(r)];if(n==="string")return[{type:"bytes32"},M(ve(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>Mo({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},M(Pe(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class df extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const lf={checksum:new df(8192)},jt=lf.checksum;function Oo(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=qr(T0(e));return n==="Bytes"?r:Y(r)}const bf=/^0x[a-fA-F0-9]{40}$/;function kt(e,t={}){const{strict:n=!0}=t;if(!bf.test(e))throw new zr({address:e,cause:new pf});if(n){if(e.toLowerCase()===e)return;if(_o(e)!==e)throw new zr({address:e,cause:new hf})}}function _o(e){if(jt.has(e))return jt.get(e);kt(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Oo(F0(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return jt.set(e,s),s}function cn(e,t={}){const{strict:n=!0}=t??{};try{return kt(e,{strict:n}),!0}catch{return!1}}class zr extends k{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class pf extends k{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class hf extends k{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const yf=/^(.*)\[([0-9]*)\]$/,mf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Uo=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Mr=2n**256n-1n;function je(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=Un(t.type);if(o){const[i,a]=o;return wf(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return Pf(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return gf(e,{checksum:r});if(t.type==="bool")return vf(e);if(t.type.startsWith("bytes"))return xf(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return $f(e,t);if(t.type==="string")return Ef(e,{staticPosition:s});throw new jn(t.type)}const Or=32,un=32;function gf(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?_o(o):o)(Y(R0(r,-20))),32]}function wf(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=le(e.readBytes(un)),u=o+c,f=u+Or;e.setPosition(u);const d=le(e.readBytes(Or)),l=et(t);let b=0;const p=[];for(let h=0;h<d;++h){e.setPosition(f+(l?h*32:b));const[y,m]=je(e,t,{checksumAddress:r,staticPosition:f});b+=m,p.push(y)}return e.setPosition(o+32),[p,32]}if(et(t)){const c=le(e.readBytes(un)),u=o+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=je(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,f]=je(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,a.push(u)}return[a,i]}function vf(e){return[M0(e.readBytes(32),{size:32}),32]}function xf(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=le(e.readBytes(32));e.setPosition(n+i);const a=le(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Y(c),32]}return[Y(e.readBytes(Number.parseInt(s,10),32)),32]}function $f(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?z0(s,{signed:n}):le(s,{signed:n}),32]}function Pf(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(et(t)){const c=le(e.readBytes(un)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[l,b]=je(e,d,{checksumAddress:r,staticPosition:u});a+=b,i[o?f:d?.name]=l}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=je(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u?.name]=f,a+=d}return[i,a]}function Ef(e,{staticPosition:t}){const n=le(e.readBytes(32)),r=t+n;e.setPosition(r);const s=le(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=O0(uo(o));return e.setPosition(t+32),[i,32]}function Af({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(On({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function On({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Un(r.type);if(s){const[o,i]=s;return Bf(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return Ff(n,{checksumAddress:e,parameter:r});if(r.type==="address")return If(n,{checksum:e});if(r.type==="bool")return kf(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=Uo.exec(r.type)??[];return Tf(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return Sf(n,{type:r.type});if(r.type==="string")return Nf(n);throw new jn(r.type)}function _n(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=G(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(L(t+s,{size:32})),r.push(a),s+=G(a)):n.push(a)}return J(...n,...r)}function If(e,t){const{checksum:n=!1}=t;return kt(e,{strict:n}),{dynamic:!1,encoded:Te(e.toLowerCase())}}function Bf(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new jf(e);if(!o&&e.length!==r)throw new Lf({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=On({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=_n(a);if(o){const u=L(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?J(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:J(...a.map(({encoded:c})=>c))}}function Sf(e,{type:t}){const[,n]=t.split("bytes"),r=G(e);if(!n){let s=e;return r%32!==0&&(s=Ne(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:J(Te(L(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new jo({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ne(e)}}function kf(e){if(typeof e!="boolean")throw new k(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Te(fo(e))}}function Tf(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new po({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:L(e,{size:32,signed:t})}}function Nf(e){const t=Tn(e),n=Math.ceil(G(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ne(se(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:J(Ne(L(G(t),{size:32})),...r)}}function Ff(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=On({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?_n(o):J(...o.map(({encoded:i})=>i))}}function Un(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function et(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(et);const n=Un(e.type);return!!(n&&et({...e,type:n[1]}))}const Cf={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Mf({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new zf({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new _r({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new _r({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Rf(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Cf);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class _r extends k{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class zf extends k{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Mf extends k{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Of(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?co(t):t,i=Rf(o);if(_e(o)===0&&e.length>0)throw new Uf;if(_e(o)&&_e(o)<32)throw new _f({data:typeof t=="string"?t:Y(t),parameters:e,size:_e(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(a);const[d,l]=je(i,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function Ln(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Do({expectedLength:e.length,givenLength:t.length});const s=Af({checksumAddress:r,parameters:e,values:t}),o=_n(s);return o.length===0?"0x":o}function fn(e,t){if(e.length!==t.length)throw new Do({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(fn.encode(s,o))}return J(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return kt(c),Te(c.toLowerCase(),s?32:0)}if(n==="string")return Tn(r);if(n==="bytes")return r;if(n==="bool")return Te(fo(r),s?32:1);const o=n.match(Uo);if(o){const[c,u,f="256"]=o,d=Number.parseInt(f,10)/8;return L(r,{size:s?32:d,signed:u==="int"})}const i=n.match(mf);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new jo({expectedSize:Number.parseInt(u,10),value:r});return Ne(r,s?32:0)}const a=n.match(yf);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":J(...f)}throw new jn(n)}e.encode=t})(fn||(fn={}));function Lo(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?dr(e):e}class _f extends k{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Oe(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Uf extends k{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Lf extends k{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class jo extends k{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${G(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Do extends k{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class jf extends k{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class jn extends k{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Go(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Dt({signature:e});if(typeof e.s>"u")throw new Dt({signature:e});if(n&&typeof e.yParity>"u")throw new Dt({signature:e});if(e.r<0n||e.r>Mr)throw new Zf({value:e.r});if(e.s<0n||e.s>Mr)throw new Kf({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Gn({value:e.yParity})}function Df(e){return Ho(Y(e))}function Ho(e){if(e.length!==130&&e.length!==132)throw new Wf({signature:e});const t=BigInt(se(e,0,32)),n=BigInt(se(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Dn(s)}catch{throw new Gn({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Gf(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Hf(e)}function Hf(e){const t=typeof e=="string"?Ho(e):e instanceof Uint8Array?Df(e):typeof e.r=="string"?qf(e):e.v?Vf(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Go(t),t}function Vf(e){return{r:e.r,s:e.s,yParity:Dn(e.v)}}function qf(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Dn(n)),typeof r!="number")throw new Gn({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Dn(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new Jf({value:e})}class Wf extends k{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${G(V0(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Dt extends k{constructor({signature:t}){super(`Signature \`${ao(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Zf extends k{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Kf extends k{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Gn extends k{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Jf extends k{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Yf(e,t={}){return typeof e.chainId=="string"?Xf(e):{...e,...t.signature}}function Xf(e){const{address:t,chainId:n,nonce:r}=e,s=Gf(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const Qf="0x8010801080108010801080108010801080108010801080108010801080108010",ed=Lo("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Vo(e){if(typeof e=="string"){if(se(e,-32)!==Qf)throw new rd(e)}else Go(e.authorization)}function td(e){Vo(e);const t=bo(se(e,-64,-32)),n=se(e,-t-64,-64),r=se(e,0,-t-64),[s,o,i]=Of(ed,n);return{authorization:Yf({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function nd(e){try{return Vo(e),!0}catch{return!1}}let rd=class extends k{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function sd(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function od(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?be(e.nonce):void 0,storageProof:e.storageProof?sd(e.storageProof):void 0}}async function id(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?P(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return od(a)}async function ad(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?P(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Hn(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){const i=r||"latest",a=n!==void 0?P(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,P(o)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||i,P(o)]},{dedupe:!!a}),!c)throw new Os({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||Ws)(c,"getTransaction")}async function cd(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([E(e,ft,"getBlockNumber")({}),t?E(e,Hn,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}async function bt(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new _s({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||xo)(n,"getTransactionReceipt")}async function ud(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return Ke({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),b=[[]];let p=0,h=0;for(let w=0;w<u.length;w++){const{abi:v,address:x,args:A,functionName:B}=u[w];try{const $=ee({abi:v,args:A,functionName:B});h+=($.length-2)/2,f>0&&h>f&&b[p].length>0&&(p++,h=($.length-2)/2,b[p]=[]),b[p]=[...b[p],{allowFailure:!0,callData:$,target:x}]}catch($){const S=He($,{abi:v,address:x,args:A,docsPath:"/docs/contract/multicall",functionName:B,sender:n});if(!s)throw S;b[p]=[...b[p],{allowFailure:!0,callData:"0x",target:x}]}}const y=await Promise.allSettled(b.map(w=>E(e,X,"readContract")({...l===null?{code:Nn}:{address:l},abi:pt,account:n,args:[w],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),m=[];for(let w=0;w<y.length;w++){const v=y[w];if(v.status==="rejected"){if(!s)throw v.reason;for(let A=0;A<b[w].length;A++)m.push({status:"failure",error:v.reason,result:void 0});continue}const x=v.value;for(let A=0;A<x.length;A++){const{returnData:B,success:$}=x[A],{callData:S}=b[w][A],{abi:N,address:T,functionName:F,args:z}=u[m.length];try{if(S==="0x")throw new tt;if(!$)throw new Et({data:B});const _=ze({abi:N,args:z,data:B,functionName:F});m.push(s?{result:_,status:"success"}:_)}catch(_){const U=He(_,{abi:N,address:T,args:z,docsPath:"/docs/contract/multicall",functionName:F});if(!s)throw U;m.push({error:U,result:void 0,status:"failure"})}}}if(m.length!==u.length)throw new g("multicall results mismatch");return m}async function dn(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const l of s){const b=l.blockOverrides?yo(l.blockOverrides):void 0,p=l.calls.map(y=>{const m=y,w=m.account?Q(m.account):void 0,v=m.abi?ee(m):m.data,x={...m,data:m.dataSuffix?K([v||"0x",m.dataSuffix]):v,from:m.from??w?.address};return ot(x),At(x)}),h=l.stateOverrides?$n(l.stateOverrides):void 0;c.push({blockOverrides:b,calls:p,stateOverrides:h})}const f=(typeof n=="bigint"?P(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},f]})).map((l,b)=>({...Zs(l),calls:l.calls.map((p,h)=>{const{abi:y,args:m,functionName:w,to:v}=s[b].calls[h],x=p.error?.data??p.returnData,A=BigInt(p.gasUsed),B=p.logs?.map(T=>ye(T)),$=p.status==="0x1"?"success":"failure",S=y&&$==="success"&&x!=="0x"?ze({abi:y,data:x,functionName:w}):null,N=(()=>{if($==="success")return;let T;if(p.error?.data==="0x"?T=new tt:p.error&&(T=new Et(p.error)),!!T)return He(T,{abi:y??[],address:v??"0x",args:m,functionName:w??"<unknown>"})})();return{data:x,gasUsed:A,logs:B,status:$,...$==="success"?{result:S}:{error:N}}})}))}catch(c){const u=c,f=vn(u,{});throw f instanceof mt?u:f}}function ln(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new k("Unable to normalize signature.");return s}function bn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return cn(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>bn(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>bn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function qo(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return qo(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?cn(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?cn(n[r],{strict:!1}):!1)return i}}function Wo(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?fr(e):e;return{...r,...n?{hash:Ue(r)}:{}}}function Tt(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=q0(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?Zo(u)===se(t,0,4):u.type==="event"?Ue(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new ht({name:t});if(i.length===1)return{...i[0],...s?{hash:Ue(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Ue(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const b="inputs"in u&&u.inputs[l];return b?bn(d,b):!1})){if(a&&"inputs"in a&&a.inputs){const d=qo(u.inputs,a.inputs,r);if(d)throw new dd({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=i;return{...u,overloads:f}})();if(!c)throw new ht({name:t});return{...c,...s?{hash:Ue(c)}:{}}}function Zo(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Tt(n,r)}return e[0]})();return se(Ue(t),0,4)}function fd(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Tt(r,s)}return e[0]})(),n=typeof t=="string"?t:Kt(t);return ln(n)}function Ue(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Tt(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Oo(Tn(fd(t)))}class dd extends k{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${ln(Kt(t.abiItem))}\`, and`,`\`${n.type}\` in \`${ln(Kt(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class ht extends k{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function ld(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,i]=e;return[pd(o),i]}return e})(),{bytecode:r,args:s}=n;return J(r,t.inputs?.length&&s?.length?Ln(t.inputs,s):"0x")}function bd(e){return Wo(e)}function pd(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new ht({name:"constructor"});return t}function hd(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[Ur(u,f,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?Ur([t,...r],t.name,{args:n}):t,o=yd(s),i=n.length>0?Ln(s.inputs,n):void 0;return i?J(o,i):o}function Me(e,t={}){return Wo(e,t)}function Ur(e,t,n){const r=Tt(e,t,n);if(r.type!=="function")throw new ht({name:t,type:"function"});return r}function yd(e){return Zo(e)}const md="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ne="0x0000000000000000000000000000000000000000",gd="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function wd(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?Q(t.account):void 0;if(i&&!u)throw new g("`account` is required when `traceAssetChanges` is true");const f=u?ld(bd("constructor(bytes, bytes)"),{bytecode:mo,args:[gd,hd(Me("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async I=>{if(!I.data&&!I.abi)return;const{accessList:R}=await Bo(e,{account:u.address,...I,data:I.abi?ee(I):I.data});return R.map(({address:Ee,storageKeys:Ae})=>Ae.length>0?Ee:null)})).then(I=>I.flat().filter(Boolean)):[],l=await dn(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((I,R)=>({abi:[Me("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:I,from:ne,nonce:R})),stateOverrides:[{address:ne,nonce:0}]}]:[],{calls:[...s,{}].map(I=>({...I,from:u?.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((I,R)=>({abi:[Me("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:I,from:ne,nonce:R})),stateOverrides:[{address:ne,nonce:0}]},{calls:d.map((I,R)=>({to:I,abi:[Me("function decimals() returns (uint256)")],functionName:"decimals",from:ne,nonce:R})),stateOverrides:[{address:ne,nonce:0}]},{calls:d.map((I,R)=>({to:I,abi:[Me("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ne,nonce:R})),stateOverrides:[{address:ne,nonce:0}]},{calls:d.map((I,R)=>({to:I,abi:[Me("function symbol() returns (string)")],functionName:"symbol",from:ne,nonce:R})),stateOverrides:[{address:ne,nonce:0}]}]:[]],traceTransfers:a,validation:c}),b=i?l[2]:l[0],[p,h,,y,m,w,v,x]=i?l:[],{calls:A,...B}=b,$=A.slice(0,-1)??[],S=p?.calls??[],N=h?.calls??[],T=[...S,...N].map(I=>I.status==="success"?pe(I.data):null),F=y?.calls??[],z=m?.calls??[],_=[...F,...z].map(I=>I.status==="success"?pe(I.data):null),U=(w?.calls??[]).map(I=>I.status==="success"?I.result:null),ae=(x?.calls??[]).map(I=>I.status==="success"?I.result:null),ce=(v?.calls??[]).map(I=>I.status==="success"?I.result:null),we=[];for(const[I,R]of _.entries()){const Ee=T[I];if(typeof R!="bigint"||typeof Ee!="bigint")continue;const Ae=U[I-1],te=ae[I-1],Yo=ce[I-1],Vn=I===0?{address:md,decimals:18,symbol:"ETH"}:{address:d[I-1],decimals:Yo||Ae?Number(Ae??1):void 0,symbol:te??void 0};we.some(Xo=>Xo.token.address===Vn.address)||we.push({token:Vn,value:{pre:Ee,post:R,diff:R-Ee}})}return{assetChanges:we,block:B,results:$}}const Ko="0x6492649264926492649264926492649264926492649264926492649264926492";function vd(e){if(se(e,-32)!==Ko)throw new Pd(e)}function xd(e){const{data:t,signature:n,to:r}=e;return J(Ln(Lo("address, bytes, bytes"),[r,t,n]),Ko)}function $d(e){try{return vd(e),!0}catch{return!1}}class Pd extends k{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Ed({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new bi.Signature(pe(e),pe(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:ie(i)}async function Nt(e,t){const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:o=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,i=(()=>{const a=t.signature;return oe(a)?a:typeof a=="object"&&"r"in a&&"s"in a?Ed(a):O(a)})();try{return nd(i)?await Ad(e,{...t,multicallAddress:o,signature:i}):await Id(e,{...t,verifierAddress:s,signature:i})}catch(a){try{if(it(As(n),await js({hash:r,signature:i})))return!0}catch{}if(a instanceof Fe)return!1;throw a}}async function Ad(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:f}=td(t.signature);if(await an(e,{address:n,blockNumber:r,blockTag:s})===Ze(["0xef0100",a.address]))return await Bd(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:P(a.r,{size:32}),s:P(a.s,{size:32}),yParity:a.yParity};if(!await Vu({address:n,authorization:l}))throw new Fe;const p=await E(e,X,"readContract")({...i?{address:i}:{code:Nn},authorizationList:[l],abi:pt,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:ee({abi:Vr,functionName:"isValidSignature",args:[o,u]})}]]});if(p[p.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Fe}async function Id(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||$d(i)?i:xd({data:s,signature:i,to:r}))(),f=a?{to:a,data:ee({abi:or,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:Fn({abi:or,args:[n,o,u],bytecode:X0}),...c},{data:d}=await E(e,ct,"call")(f).catch(l=>{throw l instanceof Us?new Fe:l});if(fi(d??"0x0"))return!0;throw new Fe}async function Bd(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await E(e,X,"readContract")({address:n,abi:Vr,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof Ls?new Fe:c})).startsWith("0x1626ba7e"))return!0;throw new Fe}class Fe extends Error{}async function Sd(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=Fo(n);return Nt(e,{address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function kd(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,d=af({message:i,primaryType:a,types:c,domain:u});return Nt(e,{address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function Jo(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=H(["watchBlockNumber",e.uid,t,n,i]);return $e(d,{onBlockNumber:r,onError:s},l=>ut(async()=>{try{const b=await E(e,ft,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(b===c)return;if(b-c>1&&n)for(let p=c+1n;p<b;p++)l.onBlockNumber(p,c),c=p}(c===void 0||b>c)&&(l.onBlockNumber(b,c),c=b)}catch(b){l.onError?.(b)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=H(["watchBlockNumber",e.uid,t,n]);return $e(d,{onBlockNumber:r,onError:s},l=>{let b=!0,p=()=>b=!1;return(async()=>{try{const h=(()=>{if(e.transport.type==="fallback"){const m=e.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return m?m.value:e.transport}return e.transport})(),{unsubscribe:y}=await h.subscribe({params:["newHeads"],onData(m){if(!b)return;const w=pe(m.result?.number);l.onBlockNumber(w,c),c=w},onError(m){l.onError?.(m)}});p=y,b||p()}catch(h){s?.(h)}})(),()=>p()})})()}async function Td(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:A})=>~~(1<<A)*200,timeout:c=18e4}=t,u=H(["waitForTransactionReceipt",e.uid,s]),f=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let d,l,b,p=!1,h,y;const{promise:m,resolve:w,reject:v}=di(),x=c?setTimeout(()=>{y?.(),h?.(),v(new Gc({hash:s}))},c):void 0;return h=$e(u,{onReplaced:o,resolve:w,reject:v},async A=>{if(b=await E(e,bt,"getTransactionReceipt")({hash:s}).catch(()=>{}),b&&r<=1){clearTimeout(x),A.resolve(b),h?.();return}y=E(e,Jo,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(B){const $=N=>{clearTimeout(x),y?.(),N(),h?.()};let S=B;if(!p)try{if(b){if(r>1&&(!b.blockNumber||S-b.blockNumber+1n<r))return;$(()=>A.resolve(b));return}if(n&&!d&&(p=!0,await ir(async()=>{d=await E(e,Hn,"getTransaction")({hash:s}),d.blockNumber&&(S=d.blockNumber)},{delay:a,retryCount:i}),p=!1),b=await E(e,bt,"getTransactionReceipt")({hash:s}),r>1&&(!b.blockNumber||S-b.blockNumber+1n<r))return;$(()=>A.resolve(b))}catch(N){if(N instanceof Os||N instanceof _s){if(!d){p=!1;return}try{l=d,p=!0;const T=await ir(()=>E(e,re,"getBlock")({blockNumber:S,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:_})=>_ instanceof Vs});p=!1;const F=T.transactions.find(({from:_,nonce:U})=>_===l.from&&U===l.nonce);if(!F||(b=await E(e,bt,"getTransactionReceipt")({hash:F.hash}),r>1&&(!b.blockNumber||S-b.blockNumber+1n<r)))return;let z="replaced";F.to===l.to&&F.value===l.value&&F.input===l.input?z="repriced":F.from===F.to&&F.value===0n&&(z="cancelled"),$(()=>{A.onReplaced?.({reason:z,replacedTransaction:l,transaction:F,transactionReceipt:b}),A.resolve(b)})}catch(T){$(()=>A.reject(T))}}else $(()=>A.reject(N))}}})}),m}function Nd(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return u?(()=>{const p=H(["watchBlocks",e.uid,t,n,r,f,c]);return $e(p,{onBlock:s,onError:o},h=>ut(async()=>{try{const y=await E(e,re,"getBlock")({blockTag:t,includeTransactions:f});if(y.number!==null&&d?.number!=null){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let m=d?.number+1n;m<y.number;m++){const w=await E(e,re,"getBlock")({blockNumber:m,includeTransactions:f});h.onBlock(w,d),d=w}}(d?.number==null||t==="pending"&&y?.number==null||y.number!==null&&y.number>d.number)&&(h.onBlock(y,d),d=y)}catch(y){h.onError?.(y)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,h=!0,y=()=>p=!1;return(async()=>{try{r&&E(e,re,"getBlock")({blockTag:t,includeTransactions:f}).then(v=>{p&&h&&(s(v,void 0),h=!1)}).catch(o);const m=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:w}=await m.subscribe({params:["newHeads"],async onData(v){if(!p)return;const x=await E(e,re,"getBlock")({blockNumber:v.result?.number,includeTransactions:f}).catch(()=>{});p&&(s(x,d),h=!1,d=x)},onError(v){o?.(v)}});y=w,p||y()}catch(m){o?.(m)}})(),()=>y()})()}function Fd(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),b=d??!1;return l?(()=>{const y=H(["watchEvent",t,n,r,e.uid,s,f,i]);return $e(y,{onLogs:c,onError:a},m=>{let w;i!==void 0&&(w=i-1n);let v,x=!1;const A=ut(async()=>{if(!x){try{v=await E(e,So,"createEventFilter")({address:t,args:n,event:s,events:o,strict:b,fromBlock:i})}catch{}x=!0;return}try{let B;if(v)B=await E(e,Bt,"getFilterChanges")({filter:v});else{const $=await E(e,ft,"getBlockNumber")({});w&&w!==$?B=await E(e,kn,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:w+1n,toBlock:$}):B=[],w=$}if(B.length===0)return;if(r)m.onLogs(B);else for(const $ of B)m.onLogs([$])}catch(B){v&&B instanceof Dr&&(x=!1),m.onError?.(B)}},{emitOnBegin:!0,interval:f});return async()=>{v&&await E(e,St,"uninstallFilter")({filter:v}),A()}})})():(()=>{let y=!0,m=()=>y=!1;return(async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const B=e.transport.transports.find($=>$.config.type==="webSocket"||$.config.type==="ipc");return B?B.value:e.transport}return e.transport})(),v=o??(s?[s]:void 0);let x=[];v&&(x=[v.flatMap($=>rt({abi:[$],eventName:$.name,args:n}))],s&&(x=x[0]));const{unsubscribe:A}=await w.subscribe({params:["logs",{address:t,topics:x}],onData(B){if(!y)return;const $=B.result;try{const{eventName:S,args:N}=Bn({abi:v??[],data:$.data,topics:$.topics,strict:b}),T=ye($,{args:N,eventName:S});c([T])}catch(S){let N,T;if(S instanceof Xe||S instanceof wt){if(d)return;N=S.abiItem.name,T=S.abiItem.inputs?.some(z=>!("name"in z&&z.name))}const F=ye($,{args:T?[]:{},eventName:N});c([F])}},onError(B){a?.(B)}});m=A,y||m()}catch(w){a?.(w)}})(),()=>m()})()}function Cd(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=H(["watchPendingTransactions",e.uid,t,o]);return $e(u,{onTransactions:r,onError:n},f=>{let d;const l=ut(async()=>{try{if(!d)try{d=await E(e,ko,"createPendingTransactionFilter")({});return}catch(p){throw l(),p}const b=await E(e,Bt,"getFilterChanges")({filter:d});if(b.length===0)return;if(t)f.onTransactions(b);else for(const p of b)f.onTransactions([p])}catch(b){f.onError?.(b)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await E(e,St,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const b=l.result;r([b])},onError(l){n?.(l)}});f=d,u||f()}catch(d){n?.(d)}})(),()=>f()})()}function Rd(e){const{scheme:t,statement:n,...r}=e.match(zd)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=e.match(Md)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const zd=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Md=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Od(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!V(r.address,{strict:!1})||t&&!it(r.address,t))return!1}catch{return!1}return!0}async function _d(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=Rd(s);if(!f.address||!Od({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const l=Fo(s);return Nt(e,{address:f.address,hash:l,signature:a,...u})}async function Ud(e,{serializedTransaction:t,timeout:n}){const r=await e.request({method:"eth_sendRawTransactionSync",params:n?[t,P(n)]:[t]},{retryCount:0});return(e.chain?.formatters?.transactionReceipt?.format||xo)(r)}function Ld(e){return{call:t=>ct(e,t),createAccessList:t=>Bo(e,t),createBlockFilter:()=>zu(e),createContractEventFilter:t=>Ns(e,t),createEventFilter:t=>So(e,t),createPendingTransactionFilter:()=>ko(e),estimateContractGas:t=>w0(e,t),estimateGas:t=>In(e,t),getBalance:t=>Mu(e,t),getBlobBaseFee:()=>Ou(e),getBlock:t=>re(e,t),getBlockNumber:t=>ft(e,t),getBlockTransactionCount:t=>_u(e,t),getBytecode:t=>an(e,t),getChainId:()=>to(e),getCode:t=>an(e,t),getContractEvents:t=>ro(e,t),getEip712Domain:t=>Lu(e,t),getEnsAddress:t=>wu(e,t),getEnsAvatar:t=>Fu(e,t),getEnsName:t=>Cu(e,t),getEnsResolver:t=>Ru(e,t),getEnsText:t=>Io(e,t),getFeeHistory:t=>Gu(e,t),estimateFeesPerGas:t=>u0(e,t),getFilterChanges:t=>Bt(e,t),getFilterLogs:t=>Hu(e,t),getGasPrice:()=>En(e),getLogs:t=>kn(e,t),getProof:t=>id(e,t),estimateMaxPriorityFeePerGas:t=>c0(e,t),getStorageAt:t=>ad(e,t),getTransaction:t=>Hn(e,t),getTransactionConfirmations:t=>cd(e,t),getTransactionCount:t=>Js(e,t),getTransactionReceipt:t=>bt(e,t),multicall:t=>ud(e,t),prepareTransactionRequest:t=>no(e,t),readContract:t=>X(e,t),sendRawTransaction:t=>du(e,t),sendRawTransactionSync:t=>Ud(e,t),simulate:t=>dn(e,t),simulateBlocks:t=>dn(e,t),simulateCalls:t=>wd(e,t),simulateContract:t=>ru(e,t),verifyHash:t=>Nt(e,t),verifyMessage:t=>Sd(e,t),verifySiweMessage:t=>_d(e,t),verifyTypedData:t=>kd(e,t),uninstallFilter:t=>St(e,t),waitForTransactionReceipt:t=>Td(e,t),watchBlocks:t=>Nd(e,t),watchBlockNumber:t=>Jo(e,t),watchContractEvent:t=>fu(e,t),watchEvent:t=>Fd(e,t),watchPendingTransactions:t=>Cd(e,t)}}function bl(e){const{key:t="public",name:n="Public Client"}=e;return bu({...e,key:t,name:n,type:"publicClient"}).extend(Ld)}export{Va as AbiConstructorNotFoundError,br as AbiConstructorParamsNotFoundError,ws as AbiDecodingDataSizeTooSmallError,tt as AbiDecodingZeroDataError,qa as AbiEncodingArrayLengthMismatchError,Wa as AbiEncodingBytesSizeMismatchError,Za as AbiEncodingLengthMismatchError,Ka as AbiErrorInputsNotFoundError,pr as AbiErrorNotFoundError,vs as AbiErrorSignatureNotFoundError,hr as AbiEventNotFoundError,Ja as AbiEventSignatureEmptyTopicsError,xs as AbiEventSignatureNotFoundError,De as AbiFunctionNotFoundError,$s as AbiFunctionOutputsNotFoundError,Ya as AbiFunctionSignatureNotFoundError,_c as AccountStateConflictError,yl as AtomicReadyWalletRejectedUpgradeError,ml as AtomicityNotSupportedError,g as BaseError,o0 as BaseFeeScalarError,Vs as BlockNotFoundError,gl as BundleTooLargeError,Qa as BytesSizeMismatchError,Us as CallExecutionError,wl as ChainDisconnectedError,sn as ChainDoesNotSupportContract,Ba as CircularReferenceError,go as ClientChainNotConfiguredError,Ls as ContractFunctionExecutionError,nn as ContractFunctionRevertedError,Hc as ContractFunctionZeroDataError,Vc as CounterfactualDeploymentFailedError,Xe as DecodeLogDataMismatch,wt as DecodeLogTopicsMismatch,vl as DuplicateIdError,Pn as Eip1559FeesNotSupportedError,Ye as EnsAvatarInvalidNftUriError,xu as EnsAvatarUnsupportedNamespaceError,zn as EnsAvatarUriResolutionError,Qc as EstimateGasExecutionError,lt as ExecutionRevertedError,Ht as FeeCapTooHighError,qn as FeeCapTooLowError,jc as FeeConflictError,rc as FilterTypeNotSupportedError,sr as HttpRequestError,Jn as InsufficientFundsError,ei as IntegerOutOfRangeError,oi as InternalRpcError,Yn as IntrinsicGasTooHighError,Xn as IntrinsicGasTooLowError,tc as InvalidAbiDecodingTypeError,ec as InvalidAbiEncodingTypeError,Ea as InvalidAbiTypeParameterError,xe as InvalidAddressError,Ps as InvalidArrayError,ti as InvalidBytesBooleanError,nc as InvalidDefinitionTypeError,ef as InvalidDomainError,Pa as InvalidFunctionModifierError,xl as InvalidHexBooleanError,Dr as InvalidInputRpcError,$a as InvalidModifierError,va as InvalidParameterError,$l as InvalidParamsRpcError,Sa as InvalidParenthesisError,tf as InvalidPrimaryTypeError,Pl as InvalidRequestRpcError,Dc as InvalidSerializableTransactionError,qe as InvalidSignatureError,Ia as InvalidStructSignatureError,nf as InvalidStructTypeError,El as JsonRpcVersionUnsupportedError,Al as LimitExceededRpcError,i0 as MaxFeePerGasTooLowError,Il as MethodNotFoundRpcError,Bl as MethodNotSupportedRpcError,Kn as NonceMaxValueError,Wn as NonceTooHighError,Zn as NonceTooLowError,Sl as ParseRpcError,kl as ProviderDisconnectedError,Tl as ProviderRpcError,Et as RawContractError,Nl as ResourceNotFoundRpcError,Fl as ResourceUnavailableRpcError,Cl as RpcError,ii as RpcRequestError,Rl as SizeExceedsPaddingSizeError,zl as SizeOverflowError,jr as SliceOffsetOutOfBoundsError,xa as SolidityProtectedKeywordError,Uc as StateAssignmentConflictError,Ml as SwitchChainError,Ol as TimeoutError,Vt as TipAboveFeeCapError,Os as TransactionNotFoundError,_s as TransactionReceiptNotFoundError,_l as TransactionRejectedRpcError,Qn as TransactionTypeNotSupportedError,Ul as UnauthorizedProviderError,Ll as UnknownBundleIdError,mt as UnknownNodeError,jl as UnknownRpcError,Aa as UnknownSignatureError,ga as UnknownTypeError,Dl as UnsupportedChainIdError,Gl as UnsupportedNonOptionalCapabilityError,Hl as UnsupportedProviderMethodError,Vl as UrlRequiredError,ql as UserRejectedRequestError,Gc as WaitForTransactionReceiptTimeoutError,ot as assertRequest,Ys as blobsToCommitments,Xs as blobsToProofs,oc as boolToBytes,Qo as boolToHex,Sc as bytesToBigInt,kc as bytesToBool,O as bytesToHex,de as bytesToNumber,Tc as bytesToString,No as ccipFetch,No as ccipRequest,xt as checksumAddress,d0 as commitmentToVersionedHash,l0 as commitmentsToVersionedHashes,K as concat,lc as concatBytes,Ze as concatHex,bu as createClient,bl as createPublicClient,Wl as createTransport,st as decodeAbiParameters,Rs as decodeErrorResult,Bn as decodeEventLog,pu as decodeFunctionData,ze as decodeFunctionResult,dl as defineChain,mo as deploylessCallViaBytecodeBytecode,Y0 as deploylessCallViaFactoryBytecode,Pe as encodeAbiParameters,Fn as encodeDeployData,Cr as encodeErrorResult,rt as encodeEventTopics,ee as encodeFunctionData,hu as encodeFunctionResult,Zl as erc20Abi,or as erc6492SignatureValidatorAbi,X0 as erc6492SignatureValidatorByteCode,md as ethAddress,ri as etherUnits,Kl as fallback,Zs as formatBlock,Ms as formatEther,Be as formatGwei,ye as formatLog,Ws as formatTransaction,xo as formatTransactionReceipt,At as formatTransactionRequest,ni as formatUnits,Re as getAbiItem,As as getAddress,Ke as getChainContractAddress,He as getContractError,vt as getEventSelector,fc as getEventSignature,nt as getFunctionSelector,fc as getFunctionSignature,m0 as getTransactionType,sf as getTypesForEIP712Domain,Jl as gweiUnits,cf as hashDomain,Fo as hashMessage,Co as hashStruct,af as hashTypedData,pe as hexToBigInt,fi as hexToBool,ie as hexToBytes,be as hexToNumber,Yl as http,V as isAddress,it as isAddressEqual,oe as isHex,M as keccak256,gu as labelhash,s0 as maxUint256,pt as multicall3Abi,on as namehash,ic as numberToBytes,P as numberToHex,Ju as offchainLookup,To as offchainLookupAbiItem,Ku as offchainLookupSignature,pn as pad,Xl as padBytes,Ie as padHex,gs as parseAbi,Sn as parseEventLogs,Pc as prepareEncodeFunctionData,Xu as presignMessagePrefix,Ld as publicActions,js as recoverAddress,Zc as recoverPublicKey,t0 as rpcTransactionType,Ed as serializeSignature,f0 as sha256,Ql as shouldThrow,Ed as signatureToHex,C as size,Ge as slice,Ss as sliceBytes,bc as sliceHex,Se as stringToBytes,Gt as stringToHex,H as stringify,y0 as toBlobSidecars,h0 as toBlobs,We as toBytes,Es as toEventHash,vt as toEventSelector,fc as toEventSignature,Es as toFunctionHash,nt as toFunctionSelector,fc as toFunctionSignature,ve as toHex,Qu as toPrefixedMessage,Kc as toRlp,qs as transactionType,yt as trim,or as universalSignatureValidatorAbi,X0 as universalSignatureValidatorByteCode,rf as validateTypedData,cu as withCache,ir as withRetry,e1 as withTimeout,ne as zeroAddress};
